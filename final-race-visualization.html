
<!DOCTYPE html>
<!-- 
You are free to copy and use this sample in accordance with the terms
of the Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
-->
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <title>Race Visualization - 2012 Austin Marathon Open Division</title>

    <link rel="stylesheet" type="text/css" href="css/map.css"/>
    <script src="lib/jquery-1.8.1.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false&libraries=visualization"></script>
    <script src="js/CanvasLayer.js"></script>
    <script src="js/courseviz.js"></script>
    <script src="js/course-data.js"></script>
    <script src="js/race-results-data.js"></script>
    
    <script type="text/javascript">
    google.maps.event.addDomListener(window, 'load', function () {
        var mapDiv = document.getElementById('map');

        var map = new google.maps.Map(mapDiv, {
            center: new google.maps.LatLng(30.292392, -97.749323),
            zoom: 12,
            mapTypeId: google.maps.MapTypeId.TERRAIN
        });

        courseviz.addCourse(map);
        courseviz.addCheckpointMarkers(map);
        courseviz.addMileMarkers(map);
        courseviz.restrictZoom(map, 11, 15);

        // Estimate location for each runner at each time interval
        courseviz.estLocations(/* seconds per interval */ 60 * 5);

        // DANGER: Don't use the heatmap with intervals of less than 1 to 10 minutes
        courseviz.addHeatmap(map);

        courseviz.addClock(map);

        courseviz.addRunnerMarkers(map, courseviz.overallWinners());
        courseviz.addRunnerMarkers(map, courseviz.agegroupWinners());
        courseviz.addRunnerMarkers(map, courseviz.runnersByName('Daniel Parker', 'Richard Brown'));
        courseviz.fps = 24;


        // Configure play controls for animation
        $('#play').click(courseviz.play);
        $('#pause').click(courseviz.pause);
        $('#reset').click(courseviz.reset);

        $('#mileMarkerOption').click(function () {
            courseviz.showMarkers(courseviz.checkpointMarkers, false);
            courseviz.showMarkers(courseviz.mileMarkers, true);
        });

        $('#checkpointMarkerOption').click(function () {
            courseviz.showMarkers(courseviz.checkpointMarkers, true);
            courseviz.showMarkers(courseviz.mileMarkers, false);
        });

        $('#hideMarkerOption').click(function () {
            courseviz.showMarkers(courseviz.checkpointMarkers, false);
            courseviz.showMarkers(courseviz.mileMarkers, false);
        });
    });

    </script>
</head>

<body>
    <button id="play" type="button">Play</button>
    <button id="pause" type="button">Pause</button>
    <button id="reset" type="button">Reset</button>
    
    <input id="mileMarkerOption" type="radio" name="markerOption"/>
    <label for="mileMarkerOption">Show Mile Markers</label>

    <input id="checkpointMarkerOption" type="radio" name="markerOption"/>
    <label for="checkpointMarkerOption">Show Checkpoint Markers</label>

    <input id="hideMarkerOption" type="radio" name="markerOption"/>
    <label for="hideMarkerOption">Hide Markers</label>

    <div id="map" class="map"></div>

</body>

</html>â€‹

